---
title: "Untitled"
output: html_document
---

The approach I have taken to simulation in this space so far has been pretty simple:

1. Set some values for the intercept and slope of a regression equation.
2. Generate the outcomes as a function of that equation.
3. Add some noise.

And voila - simulation!

However, sometimes we want to simulate something a little bit more complex. For instance, we may want to simulate data from a multivariate model in which some of the variables are correlated with each other in very specific ways. While the above approach will take you a long way, simulating these complex relationships would be very difficult using the simple methods. Fortunately, we can use some alternative procedures to simulate data that fits these criteria.

```{r}
library(MASS)

n=100

Y   <- rnorm(n, 5, .6)
Cov <- myData  + rnorm(n, 8, .25)
hisData  <- myData  + rnorm(n, 6, .4)
herData  <- hisData + rnorm(n, 8, .35)

ourData <- data.frame(myData, yourData, hisData, herData)

crv<-exp(mean(log(Cov))+sd(log(Cov))*qnorm(.5)) #see Tannenbaum, Holford, Lee, Peck & Mould (2006)
cat.cov <- ifelse(Cov > crv, 1, 0)

# interactions! http://www.ats.ucla.edu/stat/r/pages/mesimulation.htm

pairs(~myData+yourData+hisData+herData, data=ourData)

cov(ourData)
```


